<!DOCTYPE html>
<html lang="es" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Reglas de Notificación Personalizadas | BullAnalytics</title>
    <meta name="title" content="Reglas de Notificación Personalizadas | BullAnalytics">
    <meta name="description" content="Crea y gestiona reglas de notificación personalizadas para tus activos financieros. Configura alertas inteligentes basadas en precio, volumen, métricas técnicas y más.">
    <meta name="keywords" content="alertas financieras, reglas de notificación, alertas de trading, notificaciones de mercado, alertas personalizadas, monitoreo de activos">
    <meta name="robots" content="index, follow">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/logo.png">
    <link rel="apple-touch-icon" href="images/logo.png">
    <link rel="shortcut icon" href="images/logo.png">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://bullanalytics.io/rules.html">
    <meta property="og:title" content="Reglas de Notificación Personalizadas | BullAnalytics">
    <meta property="og:description" content="Crea y gestiona reglas de notificación personalizadas para tus activos financieros.">
    <meta property="og:image" content="https://bullanalytics.io/images/logo.png">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://bullanalytics.io/rules.html">
    <meta name="twitter:title" content="Reglas de Notificación Personalizadas | BullAnalytics">
    <meta name="twitter:description" content="Crea y gestiona reglas de notificación personalizadas para tus activos financieros.">
    <meta name="twitter:image" content="https://bullanalytics.io/images/logo.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://bullanalytics.io/rules.html">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#28a745',
                            dark: '#218838',
                            light: '#e8f5e9',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <script>
        // Mobile button handler
        document.getElementById('createRuleBtnMobile')?.addEventListener('click', () => {
            document.getElementById('createRuleBtn').click();
        });

        // Chat widget toggle
        const chatToggle = document.getElementById('chatToggle');
        const chatWindow = document.getElementById('chatWindow');
        const chatIcon = document.getElementById('chatIcon');
        const closeIcon = document.getElementById('closeIcon');
        const chatCloseBtn = document.getElementById('chatCloseBtn');
        const fullWindowToggle = document.getElementById('fullWindowToggle');
        const maximizeIcon = document.getElementById('maximizeIcon');
        const minimizeIcon = document.getElementById('minimizeIcon');

        let isFullWindow = false;

        function openChat() {
            chatWindow.classList.remove('hidden');
            chatIcon.classList.add('hidden');
            closeIcon.classList.remove('hidden');
            // On mobile, prevent background scrolling
            if (window.innerWidth < 768) {
                document.body.style.overflow = 'hidden';
            }
            // Initialize window state
            updateFullWindowState();
        }

        function closeChat() {
            chatWindow.classList.add('hidden');
            chatIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
            isFullWindow = false;
            updateFullWindowState();
            document.body.style.overflow = ''; // Restore scrolling
        }

        function toggleFullWindow() {
            isFullWindow = !isFullWindow;
            updateFullWindowState();
        }

        function updateFullWindowState() {
            if (isFullWindow) {
                // Full window mode - covers entire screen
                chatWindow.classList.remove('md:bottom-24', 'md:right-6', 'md:w-96', 'md:h-[600px]', 'md:rounded-2xl');
                chatWindow.classList.add('inset-0', 'w-full', 'h-full', 'rounded-none');
                maximizeIcon.classList.add('hidden');
                minimizeIcon.classList.remove('hidden');
            } else {
                // Normal mode - responsive
                chatWindow.classList.remove('inset-0', 'w-full', 'h-full', 'rounded-none');
                // On mobile (< 768px), always full screen
                if (window.innerWidth < 768) {
                    chatWindow.classList.add('bottom-0', 'right-0', 'left-0', 'top-0', 'w-full', 'h-full', 'rounded-none');
                    chatWindow.classList.remove('md:bottom-24', 'md:right-6', 'md:w-96', 'md:h-[600px]', 'md:rounded-2xl');
                } else {
                    // On desktop, show as window
                    chatWindow.classList.add('md:bottom-24', 'md:right-6', 'md:w-96', 'md:h-[600px]', 'md:rounded-2xl');
                    chatWindow.classList.remove('bottom-0', 'right-0', 'left-0', 'top-0', 'w-full', 'h-full', 'rounded-none');
                }
                maximizeIcon.classList.remove('hidden');
                minimizeIcon.classList.add('hidden');
            }
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            if (!isFullWindow && window.innerWidth < 768) {
                chatWindow.classList.add('bottom-0', 'right-0', 'left-0', 'top-0', 'w-full', 'h-full', 'rounded-none');
                chatWindow.classList.remove('md:bottom-24', 'md:right-6', 'md:w-96', 'md:h-[600px]', 'md:rounded-2xl');
            } else if (!isFullWindow && window.innerWidth >= 768) {
                chatWindow.classList.remove('bottom-0', 'right-0', 'left-0', 'top-0', 'w-full', 'h-full', 'rounded-none');
                chatWindow.classList.add('md:bottom-24', 'md:right-6', 'md:w-96', 'md:h-[600px]', 'md:rounded-2xl');
            }
        });

        chatToggle.addEventListener('click', () => {
            const isHidden = chatWindow.classList.contains('hidden');
            if (isHidden) {
                openChat();
            } else {
                closeChat();
            }
        });

        chatCloseBtn.addEventListener('click', () => {
            closeChat();
        });

        fullWindowToggle.addEventListener('click', () => {
            toggleFullWindow();
        });

        // Close chat when clicking outside (only in non-full window mode)
        chatWindow.addEventListener('click', (e) => {
            if (!isFullWindow && e.target === chatWindow) {
                closeChat();
            }
        });

        // Close chat with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !chatWindow.classList.contains('hidden')) {
                closeChat();
            }
        });
    </script>
</body>

</html>
